## ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…

ì§€ê¸ˆê¹Œì§€ëŠ” ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•Œ ìë°” ì½”ë“œì˜ @Bean ë˜ëŠ” XMLì˜ <bean>ì„ í†µí•´ ì„¤ì • ì •ë³´ì— ì§ì ‘ ë“±ë¡í•  ìŠ¤í”„ë§ ë¹ˆì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

êµ¬í˜„í•œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ëª‡ê°œ ì—†ì§€ë§Œ, ë§Œì•½ ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ë“±ë¡í•´ì•¼ í•  ë¹ˆì´ ë¬´ìˆ˜íˆ ë§ìœ¼ë©´ ëˆ„ë½ì´ë‚˜ ì„¤ì • ì •ë³´ ì½”ë“œë„ ë§ì´ ë³µì¡í•´ì§ˆ ê²ƒ ì…ë‹ˆë‹¤.

**ìŠ¤í”„ë§**ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ì£¼ëŠ” **ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”**ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ ê¸°ëŠ¥ì€ **ì„¤ì • ì •ë³´ê°€ ì—†ì–´ë„ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡**í•´ ì¤ë‹ˆë‹¤.

ë˜í•œ **ì˜ì¡´ê´€ê³„ë„ ìë™ìœ¼ë¡œ ì£¼ì…**í•˜ëŠ” `@Autowired`ë¼ëŠ” ê¸°ëŠ¥ë„ ì œê³µí•´ ì¤ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ ì½”ë“œë¡œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

```java
@Configuration
@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Configuration.class))
public class AutoAppConfig {

}
```

ë¨¼ì € ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì„¤ì •ì •ë³´ í´ë˜ìŠ¤ì— `@ComponentScan`ì„ ë¶™ì´ë©´ ë©ë‹ˆë‹¤.

`AppConfig`ì™€ëŠ” ë‹¤ë¥´ê²Œ `@Bean`ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” í´ë˜ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.

ì°¸ê³ ë¡œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë©´ `@Configuration` ë¶™ì€ ì„¤ì • ì •ë³´ë„ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ê¸° ë•Œë¬¸ì— ì•ì—ì„œ ë§Œë“  ë‹¤ë¥¸ ì„¤ì • ì •ë³´ë“¤ë„ í•¨ê»˜ ë“±ë¡ì´ ë©ë‹ˆë‹¤.

ì´ ë¬¸ì œë¥¼ ë§‰ê¸° ìœ„í•´ `excludeFilters`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì—ì„œ ì œì™¸ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”**ì€ `@Componet` **ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìº”í•´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡**í•´ ì¤ë‹ˆë‹¤.

ìœ„ì—ì„œ ì°¸ê³ ë¡œ ì„¤ëª…í•œ ë‚´ìš©ìœ¼ë¡œ `@Configuration` ì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ì œì™¸ì‹œí‚¨ ì´ìœ ëŠ” ì•„ë˜ ê·¸ë¦¼ì„ ë³´ì‹œë©´ `@Configuration` ì•ˆì— `@Componet`ê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-27 á„‹á…©á„’á…® 5 34 58](https://github.com/Heo-y-y/development-blog/assets/112863029/2992b669-46db-421a-b6a9-be6dda0ed7c4)

`AutoAppConfig`ì— `@ComponentScan`ì„ ì ìš©í–ˆìœ¼ë‹ˆ, ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  í´ë˜ìŠ¤ì— `@Componet`ë¥¼ ì ìš©ì‹œì¼œì£¼ë©´ ë©ë‹ˆë‹¤.

```java
@Component
 public class MemoryMemberRepository implements MemberRepository {}
```

```java
@Component
 public class RateDiscountPolicy implements DiscountPolicy {}
```

```java
@Component
public class MemberServiceImpl implements MemberService{

    private final MemberReposiotry memberReposiotry;

    @Autowired
    public MemberServiceImpl(MemberReposiotry memberReposiotry) {
        this.memberReposiotry = memberReposiotry;
    }
```

`AppConfig`ì—ì„œëŠ” `@Bean`ìœ¼ë¡œ ì§ì ‘ ë“±ë¡í–ˆê³ , ì˜ì¡´ê´€ê³„ë„ ì§ì ‘ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì´ì œëŠ” ì„¤ì • ì •ë³´ ìì²´ê°€ ì—†ê¸° ë•Œë¬¸ì—, ì˜ì¡´ê´€ê³„ ì£¼ì…ë„ í•´ë‹¹ í´ë˜ìŠ¤ ì•ˆì—ì„œ í•´ê²°í•´ì•¼ í•©ë‹ˆë‹¤.

`@Autowired`ë¥¼ í†µí•´ **ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…**ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`@Autowired` ê°™ì€ ê²½ìš°ëŠ” ìƒì„±ìì—ì„œ ì—¬ëŸ¬ ì˜ì¡´ê´€ê³„ë„ í•œë²ˆì— ì£¼ì…ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì˜ ë“±ë¡í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.

```java
public class AutoAppConfigTest {
    @Test
    void basicScan() {
        AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(AutoAppConfig.class);

        MemberService memberService = ac.getBean(MemberService.class);
        assertThat(memberService).isInstanceOf(MemberService.class);

    }
}
```

í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-27 á„‹á…©á„’á…® 5.44.28.png](https://github.com/Heo-y-y/development-blog/assets/112863029/083cf315-eb18-4c80-bd2c-264f1d5d5e12)

ìœ„ì— ğŸŸ¥Â ì„ ë³´ë©´ `componet`ë¥¼ í†µí•´ ë“±ë¡í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆê³ , ğŸŸ©Â ë¥¼ í†µí•´ ë¹ˆì´ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ ë™ì‘ ê³¼ì •ì— ëŒ€í•´ì„œ ì¢€ ë” ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### 1. @ComponentScan

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-27 á„‹á…©á„’á…® 5.46.32.png](https://github.com/Heo-y-y/development-blog/assets/112863029/c9723134-c34e-441e-9735-25ec89435a7d)

`@ComponetScan`ì€ `@Componet`ê°€ **ë¶™ì€ ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡**í•©ë‹ˆë‹¤.

ì´ë•Œ ìŠ¤í”„ë§ ë¹ˆì˜ ê¸°ë³¸ ì´ë¦„ì€ í´ë˜ìŠ¤ëª…ì„ ì‚¬ìš©í•˜ì§€ë§Œ ë§¨ ì• ê¸€ìë§Œ ì†Œë¬¸ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì°¸ê³ ë¡œ ë¹ˆ ì´ë¦„ì„ ì§ì ‘ ì§€ì •í•˜ê³  ì‹¶ì€ ê²½ìš°, `@Component("memberService5")` ì´ëŸ¬í•œ ë°©ì‹ì„ í†µí•´ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2. @Autowired

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-27 á„‹á…©á„’á…® 5.50.21.png](https://github.com/Heo-y-y/development-blog/assets/112863029/b0b4518d-da80-4cc2-b877-94604c3385ec)

ìƒì„±ìì— @Autowiredë¥¼ ë¶™ì´ë©´, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìë™ìœ¼ë¡œ í•´ë‹¹ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•´ ì¤ë‹ˆë‹¤.

ì´ë•Œ ê¸°ë³¸ ì¡°íšŒ ì „ëµì€ íƒ€ì…ì´ ê°™ì€ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•˜ëŠ”ë°, `getBean(MemberRepository.class)` ë°©ì‹ê³¼ ë¹„ìŠ·í•˜ë‹¤ê³  í•©ë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-30 á„‹á…©á„’á…® 5.49.14.png](https://github.com/Heo-y-y/development-blog/assets/112863029/365b54fb-dab4-4c46-a0ce-efc839230ee6)


ìƒì„±ìì— íŒŒë¼ë¯¸í„°ê°€ ë§ì•„ë„ ë‹¤ ì°¾ì•„ì„œ ìë™ìœ¼ë¡œ ì£¼ì…í•´ ì¤ë‹ˆë‹¤.

## íƒìƒ‰ ìœ„ì¹˜ì™€ ê¸°ë³¸ ìŠ¤ìº” ëŒ€ìƒ

### íƒìƒ‰í•  íŒ¨í‚¤ì§€ì˜ ì‹œì‘ ìœ„ì¹˜ ì§€ì •

ëª¨ë“  ìë°” í´ë˜ìŠ¤ë¥¼ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ í•˜ë©´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.

ê·¸ë˜ì„œ ê¼­ í•„ìš”í•œ ìœ„ì¹˜ë¶€í„° íƒìƒ‰í•˜ë„ë¡ ìœ„ì¹˜ë¥¼ ì§€ì •í•´ì£¼ë©´ ì¢‹ìŠµë‹ˆë‹¤.

```java
@ComponentScan(
         basePackages = "hello.core",
}
```

`basePackages`ëŠ” íƒìƒ‰í•  íŒ¨í‚¤ì§€ì˜ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì¦‰, ì‘ì„±í•œ `core` íŒ¨í‚¤ì§€ë¥¼ í¬í•¨í•´ì„œ í•˜ìœ„ íŒ¨í‚¤ì§€ë¥¼ ëª¨ë‘ íƒìƒ‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì—¬ëŸ¬ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

`basePackageClasses`ëŠ” ì§€ì •í•œ í´ë˜ìŠ¤ì˜ íŒ¨í‚¤ì§€ë¥¼ íƒìƒ‰ ì‹œì‘ ìœ„ì¹˜ë¡œ ì§€ì •í•©ë‹ˆë‹¤. ë§Œì•½ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ `@ComponentScan`ì´ ë¶™ì€ ì„¤ì • ì •ë³´ í´ë˜ìŠ¤ì˜ íŒ¨í‚¤ì§€ê°€ ì‹œì‘ ìœ„ì¹˜ê°€ ë©ë‹ˆë‹¤.

ì°¸ê³ ë¡œ ê¹€ì˜í•œë‹˜ì€ íŒ¨í‚¤ì§€ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ì§€ ì•Šê³ , ì„¤ì • ì •ë³´ í´ë˜ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ í”„ë¡œì íŠ¸ ìµœìƒë‹¨ì— ë‘ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤ê³  í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ëŒ€í‘œ ì‹œì‘ ì •ë³´ì¸ `@SpringBootApplication`ì„ í•´ë‹¹ í”„ë¡œì íŠ¸ ì‹œì‘ ë£¨íŠ¸ ìœ„ì¹˜ì— ë‘ëŠ” ê²ƒì´ ê´€ë¡€ë¼ê³  í•©ë‹ˆë‹¤.

ì•„ë˜ ê·¸ë¦¼ì„ ë³´ë©´ ì„¤ì •ì•ˆì— `@ComponentScan`ì´ ë“¤ì–´ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-30 á„‹á…©á„’á…® 5.55.10.png](https://github.com/Heo-y-y/development-blog/assets/112863029/20c44063-aa51-489d-b0b1-e93db088a4cd)

### ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ê¸°ë³¸ ëŒ€ìƒ

**ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”**ì€ `@Componet`ë¿ë§Œ ì•„ë‹ˆë¼ ì•„ë˜ ì–´ë…¸í…Œì´ì…˜ë„ ëŒ€ìƒì— í¬í•¨ì‹œí‚µë‹ˆë‹¤.

- `@Component`: ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì—ì„œ ì‚¬ìš©
- `@Controller`: ìŠ¤í”„ë§ MVC ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‚¬ìš©
- `@Service`: ìŠ¤í”„ë§ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ì‚¬ìš© / ê°œë°œìë“¤ì—ê²Œ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì£¼ëŠ”ë° ë„ì›€
- `@Repository`: ìŠ¤í”„ë§ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì—ì„œ ì‚¬ìš© / ë°ì´í„° ê³„ì¸µì˜ ì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ ì˜ˆì™¸ë¡œ ë³€í™˜
- `@Configuration`: ìŠ¤í”„ë§ ì„¤ì • ì •ë³´ì—ì„œ ì‚¬ìš© / ìŠ¤í”„ë§ ë¹ˆì´ ì‹±ê¸€í†¤ì„ ìœ ì§€í•˜ë„ë¡ ì¶”ê°€ ì²˜ë¦¬

ìœ„ ì–´ë…¸í…Œì´ì…˜ë“¤ì„ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆëŠ” ì´ìœ ëŠ” í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ì„ ë“¤ì–´ê°€ë³´ë©´ `@Componet`ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-30 á„‹á…©á„’á…® 6.42.20.png](https://github.com/Heo-y-y/development-blog/assets/112863029/5c389545-6590-4691-b5b3-16a671ae458d)

ì°¸ê³ ë¡œ ì–´ë…¸í…Œì´ì…˜ì—ëŠ” ìƒì†ê´€ê³„ë¼ëŠ” ê²ƒì´ ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ë ‡ê²Œ **ì–´ë…¸í…Œì´ì…˜ì´ íŠ¹ì • ì–´ë…¸í…Œì´ì…˜ì„ ë“¤ê³  ìˆëŠ” ê²ƒì„ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ì´ìœ **ëŠ” ìë°” ì–¸ì–´ê°€ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ **ìŠ¤í”„ë§ì—ì„œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥**ì´ë¼ê³  í•©ë‹ˆë‹¤.

ì¶”ê°€ë¡œ `useDefaultFilters` ì˜µì…˜ì€ ê¸°ë³¸ìœ¼ë¡œ ì¼œì ¸ìˆëŠ”ë°, ì´ ì˜µì…˜ì„ ë„ë©´ ê¸°ë³¸ ìŠ¤ìº” ëŒ€ìƒë“¤ì´ ì œì™¸ë©ë‹ˆë‹¤.

## í•„í„°

`includeFilters`: ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì„ ì¶”ê°€ë¡œ ì§€ì •

`excludeFilters`: ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì—ì„œ ì œì™¸í•  ëŒ€ìƒì„ ì§€ì •

ë¨¼ì € í…ŒìŠ¤íŠ¸ ì§„í–‰ì„ ìœ„í•´ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface MyIncludeComponent {
}

@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface MyExcludeComponent {
}
```

ê·¸ë¦¬ê³  Classë¥¼ ë§Œë“¤ì–´ì„œ í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ê°ê° ì ìš©ì‹œì¼œ ì¤ë‹ˆë‹¤.

```java
@MyIncludeComponent
public class BeanA {
}

@MyExcludeComponent
public class BeanB {
}
```

```java
public class ComponentFilterAppConfigTest {
    @Test
    void filterScan() {
        ApplicationContext ac = new AnnotationConfigApplicationContext(ComponentFilterAppConfig.class);
        BeanA beanA = ac.getBean("beanA", BeanA.class);
        assertThat(beanA).isNotNull();

        assertThrows(NoSuchBeanDefinitionException.class,
                () -> ac.getBean("BeanB", BeanB.class));
    }

    @Configuration
    @ComponentScan(includeFilters = @Filter(type = FilterType.ANNOTATION, classes = MyIncludeComponent.class),
            excludeFilters = @Filter(type = FilterType.ANNOTATION, classes = MyExcludeComponent.class))
    static class ComponentFilterAppConfig {

    }

}
```

ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë³´ë©´, `includeFilters`ì— `MyIncludeComponent` ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ì„œ `BeanA`ê°€ ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡ì´ ë©ë‹ˆë‹¤.

`excludeFilters`ì— `MyIncludeComponent` ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ì„œ `BeanB`ëŠ” ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-09-30 á„‹á…©á„’á…® 6.42.20.png](https://github.com/Heo-y-y/development-blog/assets/112863029/9ae3f487-15ed-4179-a7f5-315cf7019e6d)

### FilterType ì˜µì…˜

- `ANNOTATION`: ê¸°ë³¸ê°’, ì–´ë…¸í…Œì´ì…˜ì„ ì¸ì‹í•´ì„œ ë™ì‘
- `ASSIGNABLE_TYPE`: ì§€ì •í•œ íƒ€ì…ê³¼ ìì‹ íƒ€ì…ì„ ì¸ì‹í•´ì„œ ë™ì‘
- `ASPECTJ`: AspectJ íŒ¨í„´ ì‚¬ìš©
- `REGEX`: ì •ê·œ í‘œí˜„ì‹
- `CUSTOM`: TypeFilterë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ì²˜ë¦¬

ì°¸ê³ ë¡œ `@Componet`ë©´ ì¶©ë¶„í•˜ê¸° ë•Œë¬¸ì— `includeFilters`ë¥¼ ì‚¬ìš©í•  ì¼ì€ ê±°ì˜ ì—†ë‹¤ê³  í•©ë‹ˆë‹¤. 

íŠ¹íˆ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ”ë°, ê¹€ì˜í•œë‹˜ì€ ì˜µì…˜ì„ ë³€ê²½í•˜ë©´ì„œ ì‚¬ìš©í•˜ê¸° ë³´ë‹¤ëŠ” ìŠ¤í”„ë§ì˜ ê¸°ë³¸ ì„¤ì •ì— ìµœëŒ€í•œ ë§ì¶”ì–´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤ê³  í•©ë‹ˆë‹¤.

## ì¤‘ë³µ ë“±ë¡ê³¼ ì¶©ëŒ

ì˜ˆë¥¼ ë“¤ì–´ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì—ì„œ ê°™ì€ ë¹ˆ ì´ë¦„ì„ ë“±ë¡í•˜ëŠ” ê²½ìš° ìƒí™©ì„ ë³´ê² ìŠµë‹ˆë‹¤.

### ìë™ ë¹ˆ ë“±ë¡ vs ìë™ ë¹ˆ ë“±ë¡

ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì— ì˜í•´ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì´ ë“±ë¡ë˜ëŠ”ë°, ë§Œì•½ í•´ë‹¹ ì´ë¦„ì´ ê°™ì€ ê²½ìš° ìŠ¤í”„ë§ì€ `ConflictingBeanDefinitionException`ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.

### ìˆ˜ë™ ë¹ˆ ë“±ë¡ vs ìë™ ë¹ˆ ë“±ë¡

ê·¸ëŸ¬ë©´ ë§Œì•½ì— ê°œë°œìê°€ ìˆ˜ë™ìœ¼ë¡œ ì´ë¦„ì„ ë“±ë¡í•˜ê³ , ìë™ ë¹ˆ ë“±ë¡ëœ ì´ë¦„ê³¼ ê°™ìœ¼ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```java
 @Component
 public class MemoryMemberRepository implements MemberRepository {}
```

```java
 @Configuration
 @ComponentScan(
         excludeFilters = @Filter(type = FilterType.ANNOTATION, classes =
 Configuration.class)
 )
 public class AutoAppConfig {
     @Bean(name = "memoryMemberRepository")
     public MemberRepository memberRepository() {
         return new MemoryMemberRepository();
     }
}
```

ì´ëŸ¬í•œ ê²½ìš°ì—ëŠ” ê°œë°œìê°€ ìˆ˜ë™ìœ¼ë¡œ ë“±ë¡í•œ ë¹ˆì´ ìš°ì„ ê¶Œì„ ê°€ì§‘ë‹ˆë‹¤.

ì¦‰, ìˆ˜ë™ ë¹ˆì´ ìë™ ë¹ˆì„ ì˜¤ë²„ë¼ì´ë”© í•´ë²„ë¦½ë‹ˆë‹¤.

```java
21:15:08.004 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'memoryMemberRepository' with a different definition: replacing [Generic bean: class [hello.core.member.MemoryMemberRepository]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in file [/Users/heoyun-yeong/Desktop/core/out/production/classes/hello/core/member/MemoryMemberRepository.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=autoAppConfig; factoryMethodName=memberReposiotry; initMethodName=null; destroyMethodName=(inferred); defined in hello.core.AutoAppConfig]
```

ìµœê·¼ ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œëŠ” ìˆ˜ë™ ë¹ˆ ë“±ë¡ê³¼ ìë™ ë¹ˆ ë“±ë¡ì´ ì¶©ëŒì´ ë‚˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë„ë¡ ê¸°ë³¸ ê°’ì„ ë°”ê¿¨ìŠµë‹ˆë‹¤.

```java
Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true
```

**ì°¸ê³  ìë£Œ**

- <https://www.inflearn.com/course/ìŠ¤í”„ë§-í•µì‹¬-ì›ë¦¬-ê¸°ë³¸í¸?_gl=1*7xwan9*_ga*MTE1OTA0OTI0OC4xNjkzMjI2ODQ0*_ga_85V6SRKGJV*MTY5MzIyNjg0My4xLjEuMTY5MzIyODk3NC4zNC4wLjA](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8?_gl=1*7xwan9*_ga*MTE1OTA0OTI0OC4xNjkzMjI2ODQ0*_ga_85V6SRKGJV*MTY5MzIyNjg0My4xLjEuMTY5MzIyODk3NC4zNC4wLjA).>
