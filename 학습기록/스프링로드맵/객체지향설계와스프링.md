## 객체 지향 설계와 스프링

### 스프링이란?

스프링이라는 단어는 문맥에 따라 다르게 사용됩니다.

스프링 DI 컨테이너 기술, 스프링 프레임워크라 부르기도 하고, 최근에는 스프링 부트, 스프링 프레임워크 등을 모두 포함한 생태계를 말합니다.

**스프링 생태계**

![스크린샷 2023-08-28 오후 9 50 20](https://github.com/Heo-y-y/development-blog/assets/112863029/a88e5c20-d689-491d-bca8-53ffad753bab)

### 스프링 프레임워크

우선 **스프링 프레임워크**는 **스프링**에서 가장 **핵심**입니다.

- **핵심 기술**: 스프링 DI 컨테이너, AOP, 이벤트 등
- **웹 기술**: 스프링 MVC, 스프링 WebFlux
- **데이터 접근 기술**: 트랜잭션, JDBC, ORM 지원, XML 지원
- **기술 통합**: 캐시, 이메일, 원격접근, 스케줄링
- **테스트**: 스프링 기반 테스트 지원
- **언어**: 코틀린, 그루비

**스프링 부트**를 통해서 **스프링 프레임워크의 기술들을 편리하게 사용할 수 있습니다**.

### 스프링 부트

**스프링을 편리하게 사용할 수 있도록 지원**합니다.

- 단독으로 실행할 수 있는 스프링 애플리케이션을 쉽게 생성할 수 있습니다.
- Tomcat 같은 웹 서버를 내장해서 별도의 웹 서버를 설치하지 않아도 됩니다.
- 손쉬운 빌드 구성을 위한 starter 종속성을 제공합니다.
- 스프링과 3rd parth(외부) 라이브러리를 자동 구성합니다.
- 메트릭, 상태 확인, 외부 구성 같은 프로덕션 준비 기능을 제공해 줍니다.
- 관례에 의한 간결한 설정을 해줍니다.

즉, 위의 기능들을 간편하게 쓸 수 있게 **스프링 프레임워크의 기술들을 편리하게 사용**할 수 있는 것 입니다.

그럼 **스프링을 사용하는 핵심적인 이유**에 대한 궁금증이 생겼습니다.

**스프링**은 **자바 언어 기반**의 **프레임워크**입니다. 자바 언어의 가장 큰 특징은 객체 지향 언어인데, 좋은 **객체 지향의 애플리케이션을 개발할 수 있도록 개발자들을 도와주는 프레임워크**인 것입니다.

우선 **객체 지향 프로그래밍**을 알아보겠습니다.

### 객체 지향 프로그래밍

- **객체 지향 특징**
    - 추상화
    - 캡슐화
    - 상속
    - 다형성

우선 **객체 지향 프로그래밍**이란 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 **객체**들의 **모임**으로 파악하고자 하는 것 입니다. 각각의 **객체**는 **메세지**를 주고 받고, 데이터를 처리할 수 있습니다.(**협력**)

또한 프로그램을 **유연**하고 **변경**이 용이하게 만들어줘서 대규모 소프트웨어 개발에 많이 사용됩니다.

그럼 **유연**하고 **변경**이 용이하다는 말이 정확히 무슨 뜻인지 이해가 안갔는데, **다형성**과 연관이 있다고 합니다.

### 다형성

**다형성**은 **역할**(**인터페이스**)과 **구현**(**인터페이스를 구현한 객체**)으로 구분합니다. 

운전자와 자동차로 예시를 들어보겠습니다.

![스크린샷 2023-08-28 오후 10 19 52](https://github.com/Heo-y-y/development-blog/assets/112863029/4f488b92-610a-4b2c-8933-0a2526b276a7)

정리하면, **추상화시킨 인터페이스**(**자동차 역할**)를 따라서 **인터페이스를 구현한 객체**(**자동차 구현**)를 이용해 **사용자**(**운전자 역할**)에게 **영향을 끼치지 않고**, 쉽게 부품을 갈아 끼우듯이 쓸 수 있게 하는 것 입니다. 심지어 **무한하게 새로운 기능이나 모델을 만들 수 있는 것** 입니다.

- **자바 언어의 다형성**
    
![스크린샷 2023-08-28 오후 10 29 36](https://github.com/Heo-y-y/development-blog/assets/112863029/3f163672-b03d-41af-920a-de359bf4041c)    

MemberService에서 MemberRepository를 호출하면 Memory 또는 Jdbc 둘 중 MemberRepository에 있는 구현 객체가 호출 되는 것 입니다. 이것이 **오버라이딩**을 사용한 방법입니다. 이렇게 **다형성**으로 **인터페이스를 구현한 객체를 실행 시점에 유연하게 변경할 수 있습니다**.

즉, MemberService는 MemberRepository에만 의존하는 것 입니다. 이렇게 하면 **클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있습니다**.

정리하자면, **스프링과 객체지향**에서는 **다형성**이 **가장 중요**합니다. **스프링**은 **다형성을 극대화해서 사용할 수 있게 해줍니다**. 스프링에서 이야기하는 IoC, DI는 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원하는 것 입니다.

### 좋은 객체 지향 설계의 5가지 원칙(SOLID)

- **SRP**(**단일 책임 원칙**)
    - **한 클래스는 하나의 책임만** 가져야합니다.
    - **중요한 기준은 변경**인데, 변경이 있을 때 파급 효과가 적으면 단일 책임 원칙을 잘 따른 것 입니다.
- **OCP**(**개방-폐쇄 원칙**)
    - 소프트웨어 요소는 **확장에는 열려** 있으나 **변경에는 닫혀** 있어야 합니다.
    - **다형성**을 활용하면 됩니다.
        - 하지만 **다형성을 사용해도 클라이언트 코드를 변경을 해야합니다**. 이러한 문제점을 해결하려면 **객체를 생성하고, 연관관계를 맺어주는 별도의 조립, 설정자가 필요**한데 이것을 **스프링**이 해줍니다.
- **LSP**(**리스코프 치환 원칙**)
    - 프로그램의 객체는 프로그램의 **정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 합니다**.
- **ISP**(**인터페이스 분리 원칙**)
    - **특정 클라이언트를 위한 인터페이스 여러 개**가 범용 인터페이스 하나보다 낫습니다.
- **DIP**(**의존관계 역전 원칙**)
    - 프로그래머는 **추상화에 의존**해야지 구체화에 의존하면 안됩니다. 즉, **역할(인터페이스)에 의존하게 해야 한다는 것과 같습니다**.
        - 이 방식도 이렇게만 구현하면 DIP를 지키지 못합니다.

정리하면, **다형성 만으로는 OCP, DIP를 지킬 수 없습니다**.

### 객체 지향 설계와 스프링

**스프링**은 **DI**(**의존성 주입**), **DI 컨테이너 제공**으로 다형성 만으로는 지키지 못한 **OCP DIP를 가능하게 지원**해줍니다.

즉, **클라이언트 코드의 변경 없이 기능을 확장**할 수 있습니다.

**참고자료**

- <https://www.inflearn.com/course/스프링-핵심-원리-기본편?_gl=1*7xwan9*_ga*MTE1OTA0OTI0OC4xNjkzMjI2ODQ0*_ga_85V6SRKGJV*MTY5MzIyNjg0My4xLjEuMTY5MzIyODk3NC4zNC4wLjA](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8?_gl=1*7xwan9*_ga*MTE1OTA0OTI0OC4xNjkzMjI2ODQ0*_ga_85V6SRKGJV*MTY5MzIyNjg0My4xLjEuMTY5MzIyODk3NC4zNC4wLjA).>
