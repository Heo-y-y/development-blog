## í•™ìŠµ ë‚´ìš©

í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ì˜ ì•Œê³ ë¦¬ì¦˜ APIë¥¼ **Spring Cloud openFeign**ìœ¼ë¡œ ë°›ì•„ ì•Œê³ ë¦¬ì¦˜ì„ í’€ê³ , í…ŒìŠ¤íŠ¸ ì½”ë“œê¹Œì§€ ì‘ì„±í•´ë³´ëŠ” í•™ìŠµì„ ì§„í–‰í–ˆë‹¤.

### Repository
**ğŸ“ [GitHub](https://github.com/yet-another-study-group/study_api_call)**

## OpenFeignì´ë€?

**OpenFeign**ì€ **Netflix**ì— ì˜í•´ ì²˜ìŒ ë§Œë“¤ì–´ì§„ Declarative(ì„ ì–¸ì ì¸) HTTP Client ë„êµ¬ë¡œì¨, ì™¸ë¶€ API í˜¸ì¶œì„ ì‰½ê²Œí•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤ê³  í•œë‹¤. 

**OpenFeigndì˜ ë³€í™”**

`Netflix OSS â†’ Spring Cloud Netflix â†’ Open Feign â†’ Spring Cloud Open Feign`

**ì¥ì **

- ì¸í„°í˜ì´ìŠ¤ì™€ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ìœ¼ë¡œÂ ì‘ì„±í•  ì½”ë“œê°€ ì¤„ì–´ë“ ë‹¤.
- ìµìˆ™í•œ Spring MVC ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ê°œë°œì´Â ê°€ëŠ¥í•˜ë‹¤.
- ë‹¤ë¥¸ Spring Cloud ê¸°ìˆ ë“¤(Eureka, Circuit Breaker, LoadBalancer)ê³¼ì˜ í†µí•©ì´ ì‰½ë‹¤.

**ë‹¨ì  & í•œê³„**

- ê¸°ë³¸ Http Clientê°€ Http2ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤(Http Clientì— ëŒ€í•œ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”).
- ê³µì‹ì ìœ¼ë¡œ Reactive ëª¨ë¸ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤(ë¹„ê³µì‹ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì‚¬ìš© ê°€ëŠ¥).
- ê²½ìš°ì— ë”°ë¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë  ëŒ€ ì´ˆê¸°í™” ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤(Object Providerë¡œ ëŒ€ì‘ì´ í•„ìš”).
- í…ŒìŠ¤íŠ¸ ë„êµ¬ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤(ë³„ë„ì˜ ì„¤ì • íŒŒì¼ì„ ì‘ì„±í•˜ì—¬ ëŒ€ì‘ì´ í•„ìš”).

## OpenFeign ì ìš©

1. **ì˜ì¡´ì„± ì¶”ê°€**

```java
dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-web'
	compileOnly 'org.projectlombok:lombok'
	annotationProcessor 'org.projectlombok:lombok'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
	implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-openfeign', version: '3.1.3'
	implementation 'org.apache.commons:commons-math3:3.6.1'
}
```

ì—¬ê¸°ì„œ **ì£¼ì˜ì **ì€ **Spring Cloud**ëŠ” **Spring Boot ë²„ì „ê³¼ í˜¸í™˜ë˜ëŠ” ë²„ì „ì„ ì‚¬ìš©**í•´ì•¼ í•œë‹¤.

[Spring Cloud ë¬¸ì„œ](https://spring.io/projects/spring-cloud)ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ëœë‹¤.

2. **OpenFeign í™œì„±í™”**

OpenFeignì„ í™œì„±í™”í•˜ë ¤ë©´ `@EnableFeignClients` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ë©´ ëœë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œëŠ” main í´ë˜ìŠ¤ì— ë¶™ì—¬ì¤€ë‹¤.

```java
@SpringBootApplication
@EnableFeignClients
public class HyyApplication {

	public static void main(String[] args) {
		SpringApplication.run(HyyApplication.class, args);
	}
}
```

í•´ë‹¹ ì§„í–‰ ê³¼ì •ì—ì„œ ì™œ `main` í´ë˜ìŠ¤ì— ì ìš©ì„ í•˜ëŠ”ì§€ ê¶ê¸ˆí–ˆë‹¤.

ê·¸ë˜ì„œ ì•Œì•„ë³´ë‹ˆ,

`@EnableFeignClients` ì–´ë…¸í…Œì´ì…˜ì€ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ íƒìƒ‰í•˜ë©´ì„œ `@FeignClient`ë¥¼ ì°¾ì•„ êµ¬í˜„ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì—­í• ì„ í•œë‹¤ê³  í•œë‹¤.

ìœ„ ê¸€ì„ ë³´ë©´ ì•Œê² ì§€ë§Œ, `main` í´ë˜ìŠ¤ì— ì ìš©í•˜ë©´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë‹¤ íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ `main` í´ë˜ìŠ¤ì— ì ìš©í•˜ëŠ” ê²ƒì´ë¼ê³  ì´í•´í–ˆë‹¤.

í•˜ì§€ë§Œ main í´ë˜ìŠ¤ì— `@EnableFeignClients` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ëŠ” ê²ƒì€ **SpringBootê°€ ì œê³µí•˜ëŠ” í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.** ê·¸ëŸ¬ë¯€ë¡œ ë³„ë„ì˜ `Config` íŒŒì¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ëë‹¤.

ë³„ë„ì˜ íŒŒì¼ë¡œ ì„¤ì •í•  ê²½ìš° `feign` ì¸í„°í˜ì´ìŠ¤ë“¤ì˜ **ìœ„ì¹˜ë¥¼ ë°˜ë“œì‹œ ì§€ì •**í•´ì£¼ì–´ì•¼ í•œë‹¤. 

`componentScan` ì²˜ëŸ¼ `baseBackes`ë¡œ ì§€ì •í•´ì£¼ê±°ë‚˜, `clients`ë¡œ ì§ì ‘ í´ë˜ìŠ¤ë“¤ì„ ì§€ì •í•´ì¤˜ë„ ëœë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ íŒ¨í‚¤ì§€ë¡œ ì§€ì •í•œë‹¤ê³  í•˜ì—¬ ì ìš©í–ˆë‹¤.

```java
@Configuration
@EnableFeignClients("com.study.hyy")
class OpenFeignConfig {

}
```

3. **Feign Client êµ¬í˜„**
- ë¶ˆëŸ¬ ì˜¬ ì™¸ë¶€ API ì½”ë“œ

```kotlin
@RestController
@RequestMapping("/api")
class TestController(
    private val testService: TestService
) {

    @GetMapping( "/cal/{x}")
    fun calculateQuadraticEquation(@PathVariable x: Int) = testService.calQuadraticEquation(x)

}
```

API í˜¸ì¶œì„ ìˆ˜í–‰í•  í´ë¼ì´ì–¸íŠ¸ëŠ” ì¸í„°í˜ì´ìŠ¤ì— `@FeignClient` ì–´ë…¸í…Œì´ì…˜ì„ ì„¤ì •í•œë‹¤. `name`**ì—ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì´ë¦„ì„ ì„¤ì •**í•˜ê³ , `url`**ì—ëŠ” í˜¸ì¶œí•  apiì˜ ì£¼ì†Œë¥¼ ì„¤ì •**í•œë‹¤.

```java
@FeignClient(name = "YkFeignClient", url="http://localhost:8081")
public interface YkFeignClient {
    @GetMapping(value = "/api/cal/{x}")
    int getValue(@PathVariable("x") int x);
}
```

4. **FeinÃ‡lient config ì •ë³´ ì„¤ì •**

`Config` í´ë˜ìŠ¤ë¡œ ìƒì„±í•˜ê³  í•„ìš”í•œ ê° ì„¤ì • ì •ë³´ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì…‹íŒ… ê°€ëŠ¥í•˜ë‹¤.

âœ…Â Config í´ë˜ìŠ¤ë¥¼ ë”°ë¡œ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ì•„ë˜ `Bean`ë“¤ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µëœë‹¤.

```java
Spring Cloud OpenFeign provides the following beans by default for feign (BeanType beanName: ClassName):
Decoder feignDecoder: ResponseEntityDecoder (which wraps a SpringDecoder)
Encoder feignEncoder: SpringEncoder
Logger feignLogger: Slf4jLogger
MicrometerCapability micrometerCapability: If feign-micrometer is on the classpath and MeterRegistry is available
CachingCapability cachingCapability: If @EnableCaching annotation is used. Can be disabled via feign.cache.enabled.
Contract feignContract: SpringMvcContract
Feign.Builder feignBuilder: FeignCircuitBreaker.Builder
Client feignClient: If Spring Cloud LoadBalancer is on the classpath, FeignBlockingLoadBalancerClient is used. If none of them is on the classpath, the default feign client is used.
```

âÂ ì•„ë˜ `bean`ë“¤ì€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ì§€ ì•Šê³  í•„ìš”ì‹œ `config` í´ë˜ìŠ¤ì— ìƒì„±í•´ì¤˜ì•¼ í•œë‹¤.

```java
Logger.Level
Retryer
ErrorDecoder
Request.Options
Collection<RequestInterceptor>
SetterFactory
QueryMapEncoder
Capability (MicrometerCapability and CachingCapability are provided by default)
```

## Mockitoë€?

`Mock`ì„ ì§€ì›í•˜ëŠ” í”„ë ˆì„ì›Œí¬ë¡œ, `Spring Boot Test`ì—ì„œ ì‚¬ìš©í•˜ëŠ” `JUnit` ìœ„ì—ì„œ ë™ì‘í•˜ë©° `Mock` ê°ì²´ë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•˜ë©° ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

ì¦‰, `Mockito`ëŠ” ê°œë°œìê°€ ë™ì‘ì„ ì§ì ‘ ì œì–´í•  ìˆ˜ ìˆëŠ” **ê°€ì§œ ê°ì²´**ë¥¼ ì§€ì›í•˜ëŠ” í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì´ë‹¤.

### Test Doubleì´ë€?

í…ŒìŠ¤íŠ¸í•  ë•Œ ì‹¤ì œ ê°ì²´ì˜ ì—­í• ì„ ëŒ€ì‹  í•´ì£¼ëŠ” ê°ì²´ì´ë‹¤.

ì¦‰, í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ê°ì²´ì™€ ì—°ê´€ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸° ì–´ë µê³  ëª¨í˜¸í•  ë•Œ ëŒ€ì‹  í•´ì£¼ëŠ” ê°ì²´ë¥¼ `Test Double`ì´ë¼ê³  í•œë‹¤.

**í…ŒìŠ¤íŠ¸ ë”ë¸”ì˜ ì¢…ë¥˜**

- **Dummy**
    - ê°€ì¥ ê¸°ë³¸ì ì¸ í…ŒìŠ¤íŠ¸ ë”ë¸”ì´ë‹¤.
    - ì¸ìŠ¤í„´ìŠ¤í™” ëœ ê°ì²´ê°€ í•„ìš”í•˜ì§€ë§Œ ê¸°ëŠ¥ì€ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤.
    - Dummy ê°ì²´ì˜ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ì •ìƒ ë™ì‘ì€ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
    - ê°ì²´ëŠ” ì „ë‹¬ë˜ì§€ë§Œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°ì²´ì´ë‹¤.
    
    ì •ë¦¬í•˜ë©´, ì¸ìŠ¤í„´ìŠ¤í™”ëœ ê°ì²´ê°€ í•„ìš”í•´ì„œ êµ¬í˜„í•œ **ê°€ì§œ ê°ì²´**ì¼ ë¿ì´ê³ , **ìƒì„±ëœ Dummy ê°ì²´ëŠ” ì •ìƒì ì¸ ë™ì‘ì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤**.
    
- **Fake**
    - ë³µì¡í•œ ë¡œì§ì´ë‚˜ ê°ì²´ ë‚´ë¶€ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë‹¤ë¥¸ ì™¸ë¶€ ê°ì²´ë“¤ì˜ ë™ì‘ì„ ë‹¨ìˆœí™”í•˜ì—¬ êµ¬í˜„í•œ ê°ì²´ì´ë‹¤.
    - ë™ì‘ì˜ êµ¬í˜„ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ì‹¤ì œ í”„ë¡œë•ì…˜ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ ê°ì²´ì´ë‹¤.
    
    ì •ë¦¬í•˜ë©´, **ë™ì‘ì€ í•˜ì§€ë§Œ ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ê°ì²´ì²˜ëŸ¼ ì •êµí•˜ê²Œ ë™ì‘ì€ í•˜ì§€ ì•ŠëŠ” ê°ì²´**ì´ë‹¤.
    
- **Stub**
    - Dummy ê°ì²´ê°€ ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“¤ì–´ ë†“ì€ ê°ì²´ì´ë‹¤.
    - ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤ê°€ ìµœì†Œí•œìœ¼ë¡œ êµ¬í˜„ëœ ìƒíƒœì´ë‹¤.
    - í…ŒìŠ¤íŠ¸ì—ì„œ í˜¸ì¶œëœ ìš”ì²­ì— ëŒ€í•´ ë¯¸ë¦¬ ì¤€ë¹„í•´ë‘” ê²°ê³¼ë¥¼ ì œê³µí•œë‹¤.
    
    ì •ë¦¬í•˜ë©´, **í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ í”„ë¡œê·¸ë˜ë°ëœ ë‚´ìš©ì— ëŒ€í•´ì„œë§Œ ì¤€ë¹„ëœ ê²°ê³¼ë¥¼ ì œê³µí•˜ëŠ” ê°ì²´**ì´ë‹¤.
    
- **Spy**
    - Stubì˜ ì—­í• ì„ ê°€ì§€ë©´ì„œ í˜¸ì¶œëœ ë‚´ìš©ì— ëŒ€í•´ ì•½ê°„ì˜ ì •ë³´ë¥¼ ê¸°ë¡í•œë‹¤.
    - í…ŒìŠ¤íŠ¸ ë”ë¸”ë¡œ êµ¬í˜„ëœ ê°ì²´ì— ìê¸° ìì‹ ì´ í˜¸ì¶œ ë˜ì—ˆì„ ë•Œ í™•ì¸ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ê¸°ë¡í•˜ë„ë¡ êµ¬í˜„í•œë‹¤.
    - ì‹¤ì œ ê°ì²´ì²˜ëŸ¼ ë™ì‘ì‹œí‚¬ ìˆ˜ë„ ìˆê³ , í•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” Sutbìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ë™ì‘ì„ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.
    
    ì •ë¦¬í•˜ë©´, **ì‹¤ì œ ê°ì²´ë¡œë„ ì‚¬ìš© ê°€ëŠ¥**í•˜ê³ , **Stub ê°ì²´ë¡œë„ í™œìš©**í•  ìˆ˜ ìˆìœ¼ë©° í•„ìš”í•œ ê²½ìš° **íŠ¹ì • ë©”ì„œë“œê°€ ì œëŒ€ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸**í•  ìˆ˜ ìˆë‹¤.
    
- **Mock**
    - í˜¸ì¶œì— ëŒ€í•œ ê¸°ëŒ€ë¥¼ ëª…ì„¸í•˜ê³  ë‚´ìš©ì— ë”°ë¼ ë™ì‘í•˜ë„ë¡ í”„ë¡œê·¸ë˜ë°ëœ ê°ì²´ì´ë‹¤.

## í•„ìš”í•œ Dependency

`SpringBoot`ë¥¼ ì‚¬ìš©í•˜ë©´ `Gradle`ì— `Spring-boot-starter-test`ë¥¼ ì¶”ê°€í•˜ê²Œ ëœë‹¤.

ê·¸ì•ˆì— `mockito-core`, `mockito-junit-jupiter` íŒ¨í‚¤ì§€ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.

<img width="471" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-28 á„‹á…©á„Œá…¥á†« 12 12 25" src="https://github.com/Heo-y-y/chicken/assets/112863029/34241020-eb84-4416-956d-f047c9d182ae">

## Mockitoë¥¼ ì ìš©í•œ Service í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸

ì•„ë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸ í•´ë³´ì.

```java
@Service
@RequiredArgsConstructor
public class FeignService {
    private final YkFeignClient ykFeignClient;

    public ABResponseDto calculateAB() {
        int x1 = 14;
        int result1 = ykFeignClient.getValue(x1);
        int x2 = 40;
        int result2 = ykFeignClient.getValue(x2);
        double[][] coefficients = {{x1 * x1, x1}, {x2 * x2, x2}};
        double[] constants = {result1, result2};
        RealMatrix matrix = MatrixUtils.createRealMatrix(coefficients);
        QRDecomposition solver = new QRDecomposition(matrix);
        RealVector constantsVector = MatrixUtils.createRealVector(constants);

        if (!solver.getSolver().isNonSingular())
            throw new IllegalArgumentException("ë°©ì •ì‹ì˜ ì‹œìŠ¤í…œì— ìœ ì¼í•œ í•´ê°€ ì—†ìŠµë‹ˆë‹¤.");
        RealVector solution = solver.getSolver().solve(constantsVector);
        int a = (int) Math.round(solution.getEntry(0));
        int b = (int) Math.round(solution.getEntry(1));
        return new ABResponseDto(a, b);
    }
```

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test) ì‘ì„± ì¤€ë¹„

ìš°ì„  **JUniit5**ì™€ **Mockito**ë¥¼ ì—°ë™í•˜ê¸° ìœ„í•´ì„œëŠ” ``@ExtendWith(MockitoExtension.class)``ë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.

```java
@ExtendWith(MockitoExtension.class)
class FeignServiceTest {
}
```

ê·¸ ë‹¤ìŒ ì˜ì¡´ì„± ì£¼ì…ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ë¨¼ì € í…ŒìŠ¤íŠ¸ ëŒ€ìƒì¸ `FeignService`ì—ëŠ” **ê°€ì§œ ê°ì²´ ì£¼ì…ì„ ìœ„í•œ** `@InjectMocks`ë¥¼ ë¶™ì—¬ì£¼ê³ , `YkFeignClient`ì—ëŠ” **ê°€ì§œ ê°ì²´ ìƒì„±ì„ ìœ„í•´** `@Mock` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤.

```java
@ExtendWith(MockitoExtension.class)
class FeignServiceTest {
    @InjectMocks
    FeignService feignService;

    @Mock
    YkFeignClient ykFeignClient;
}
```

### FeignService ì„±ê³µ í…ŒìŠ¤íŠ¸

```java
@ExtendWith(MockitoExtension.class)
class FeignServiceTest {
    @InjectMocks
    FeignService feignService;

    @Mock
    YkFeignClient ykFeignClient;

    @Test
    @DisplayName("ê³¼ì œ1 calculateAB() í…ŒìŠ¤íŠ¸ì½”ë“œ")
    void successCalculateAB() {
        given(ykFeignClient.getValue(14)).willReturn(2912);
        given(ykFeignClient.getValue(40)).willReturn(22880);

        ABResponseDto abResponseDto = feignService.calculateAB();

        then(ykFeignClient).should(times(1)).getValue(14);
        then(ykFeignClient).should(times(1)).getValue(40);
        then(ykFeignClient).shouldHaveNoMoreInteractions();

        assertThat(abResponseDto.getA()).isEqualTo(14);
        assertThat(abResponseDto.getB()).isEqualTo(12);
    }
}
```

ì—¬ê¸°ì„œëŠ” ``BDDMocktio``ë¥¼ ì‚¬ìš©í–ˆë‹¤.

`Mockito`ì—ì„œ `BDDMockito`ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€í•˜ë©´ ì‚¬ìš©ê°€ëŠ¥í•˜ê³ , ê¸°ëŠ¥ì ìœ¼ë¡œëŠ” ë³„ ì°¨ì´ê°€ ì—†ê³  **given/when/then**ì„ ì§€í‚¤ë©´ì„œ ì“¸ ìˆ˜ ìˆë„ë¡ í‹€ì„ ë°”ê¿”ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.
